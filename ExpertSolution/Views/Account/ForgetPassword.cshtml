@{
    ViewData["Title"] = "تسجيل الدخول";
    Layout = "_OuterLayout";
    var ViewMode = ViewData["ViewMode"].ToString();

}
<div class="max-w-464-px mx-auto w-100">
    <div>
        <a href="index.html" class="mb-40 max-w-290-px">
            <img src="~/assets/images/logo.png" alt="">
        </a>
        <h4 class="mb-12">استعادة كلمة المرور</h4>
    </div>


    @if (string.IsNullOrEmpty(ViewMode))
    {
        <form class="needs-validation" novalidate onsubmit="return false;">
            <div class="icon-field mb-16">
                <span class="icon top-50 translate-middle-y">
                    <iconify-icon icon="mage:email"></iconify-icon>
                </span>
                <input type="email" class="form-control h-56-px bg-neutral-50 radius-12" id="txtEmail" placeholder="البريد الإلكتروني" required>
                <div class="invalid-feedback">يجب إدخال البريد إلكترونى </div>

            </div>


            <div class="row">
                <button class="btn btn-primary text-sm btn-sm px-12 py-16 w-100 radius-12 mt-32" onclick="Expert.Account.ForgetPassword();">إرسال رابط إستعادة كلمة المرور</button>
            </div>

            <div class="row">
                <p class="small mb-0">هل لديك حساب؟ <a href="@Url.Action("Login", "Account")" class="text-primary-600 fw-bold mt-24">دخول</a></p>
            </div>
        </form>
    }
    else if (!string.IsNullOrEmpty(ViewMode) && ViewMode == "Error")
    {
        <div>
            <h5 class="card-title text-center pb-0 fs-4" style="color:red">رابط التفعيل غير صحيح</h5>
        </div>
    }
    else if (!string.IsNullOrEmpty(ViewMode) && ViewMode != "Error")
    {
        <form class="needs-validation" novalidate onsubmit="return false;" oninput="result.value = txtRePassword.value != '' ? !!txtRePassword.value && (txtPassword.value==txtRePassword.value)?'متطابقة!':'غير متطابقة!' : ''">
            <div class="mb-2">
                <div class="position-relative ">
                    <div class="icon-field">
                        <span class="icon top-50 translate-middle-y-expert">
                            <iconify-icon icon="solar:lock-password-outline"></iconify-icon>
                        </span>
                        <input type="password" class="form-control h-56-px bg-neutral-50 radius-12" minlength="6" id="txtPassword" placeholder="كلمة المرور" required>
                        <div class="invalid-feedback">يجب إدخال كلمة المرور على الاقل 6 حروف</div>

                    </div>
                    <span class="toggle-password ri-eye-line cursor-pointer position-absolute end-0 top-50 me-16 text-secondary-light" data-toggle="#txtPassword"></span>
                </div>
            </div>
            <div class="">
                <div class="position-relative ">
                    <div class="icon-field">
                        <span class="icon top-50 translate-middle-y-expert">
                            <iconify-icon icon="solar:lock-password-outline"></iconify-icon>
                        </span>
                        <input type="password" class="form-control h-56-px bg-neutral-50 radius-12" date-ActivateKey="@ViewMode" minlength="6" id="txtRePassword" placeholder="إعادة كلمة المرور" required>
                        <div class="invalid-feedback">يجب إعادة إدخال كلمة المرور</div>
                        <output name="result" style="color:green"></output>

                    </div>
                    <span class="toggle-password ri-eye-line cursor-pointer position-absolute end-0 me-16 text-secondary-light" style="top:35px !important" data-toggle="#txtRePassword"></span>
                </div>
            </div>
            <button class="btn btn-primary text-sm btn-sm px-12 py-16 w-100 radius-12 mt-32" onclick="Expert.Account.UpdatePasswordByActivateKey();">حفظ</button>
            <div class="mt-32 text-center text-sm">
                <p class="mb-0">هل لديك حساب؟ <a href="@Url.Action("Login", "Account")" class="text-primary-600 fw-semibold">دخول</a></p>
            </div>

        </form>

        @*  <form class="row g-3 needs-validation" novalidate onsubmit="return false;" oninput="result.value = txtRePassword.value != '' ? !!txtRePassword.value && (txtPassword.value==txtRePassword.value)?'متطابقة!':'غير متطابقة!' : ''">
    <div class="row">
    <label for="yourUsername" class="form-label">كلمة المرور</label>
    <input type="password" class="form-control" id="txtPassword" date-ActivateKey="@ViewMode" dir="ltr" name="txtPassword" minlength="6" required style="padding-left:8px">
    <div class="invalid-feedback">يجب إدخال كلمة المرور على الاقل 6 حروف</div>
    </div>
    <div class="row mb-3">
    <label for="inputText" class="col-sm-6 col-form-label">إعادة كلمة المرور</label>
    <div class="input-group has-validation">
    <input type="password" id="txtRePassword" name="txtRePassword" dir="ltr" class="form-control" minlength="6" required style="padding-left:8px">
    <div class="invalid-feedback">يجب إعادة إدخال كلمة المرور</div>
    </div>
    <output name="result" style="color:green"></output>
    </div>
    <div class="row">
    <button class="btn btn-primary w-100" onclick="Expert.Account.UpdatePasswordByActivateKey();">حفظ</button>
    </div>
    <div class="row">
    <p class="small mb-0">هل لديك حساب؟ <a href="@Url.Action("Login", "Account")">دخول</a></p>
    </div>
    </form> *@
    }
</div>
</div>